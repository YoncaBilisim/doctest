<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at Mar 18, 2013
 | Rendered using Apache Maven Fluido Skin 1.3.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20130318" />
    <meta http-equiv="Content-Language" content="en" />
    <title></title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.3.0.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.3.0.min.js"></script>

    
            </head>
        <body class="topBarDisabled">
          
    
    
            
    
        
    <a href="http://github.com/devbliss/doctest">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_green_007200.png"
        alt="Fork me on GitHub">
    </a>
  
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                    <a href="http://www.devbliss.com" id="bannerLeft">
                <h2>Doctest: Api documentation and testing</h2>
                </a>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
            
                  <li id="publishDate">Last Published: 2013-03-18</li>
                  <li class="divider">|</li> <li id="projectVersion">Version: 0.6.4-SNAPSHOT</li>
                      
                
            
      
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
            
                <ul class="nav nav-list">
                    <li class="nav-header">Overview</li>
                                
      <li>
    
                          <a href="index.html" title="About">
          <i class="none"></i>
        About</a>
            </li>
                  
      <li>
    
                          <a href="Installation.html" title="Installation">
          <i class="none"></i>
        Installation</a>
            </li>
                  
      <li>
    
                          <a href="Configuration.html" title="Configuration">
          <i class="none"></i>
        Configuration</a>
            </li>
                  
      <li>
    
                          <a href="CHANGES.html" title="Changelog">
          <i class="none"></i>
        Changelog</a>
            </li>
                  
      <li>
    
                          <a href="TODO.html" title="Todos">
          <i class="none"></i>
        Todos</a>
            </li>
                              <li class="nav-header">Examples</li>
                                
      <li class="active">
    
            <a href="#"><i class="none"></i>Introduction Example</a>
          </li>
                  
      <li>
    
                          <a href="Doctests.html" title="Example of generated doctest reports">
          <i class="none"></i>
        Example of generated doctest reports</a>
            </li>
                              <li class="nav-header">Project documentation</li>
                                
      <li>
    
                          <a href="project-info.html" title="Maven Info">
          <i class="none"></i>
        Maven Info</a>
            </li>
                  
      <li>
    
                          <a href="Apidocs.html" title="JavaDocs">
          <i class="none"></i>
        JavaDocs</a>
            </li>
                  
      <li>
    
                          <a href="Testapidocs.html" title="Test JavaDocs">
          <i class="none"></i>
        Test JavaDocs</a>
            </li>
            </ul>
                
            
                
          <hr class="divider" />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            <h1>Wanna see what it does?</h1><p>The following example shows the integration test of the delete-profile REST endpoint. The test method is seperated into 4 blocks introduction / setup, show the existing data by using the get-profile endpoint, call the delete-profile endpoint and finally show that the profile is gone by calling again the get-profile endpoint.</p>
<pre>
class ProfileDocTest extends com.devbliss.doctest.DocTest {
    
    ...
    
    /**
     * Write a test annotated method like you would do for a common junit test
     */
    @Test
    public void testDeleteProfile() {
        /*
         * Introduce the delete-profile endpoint to the reader of your documentation.
         * Create a default profile to setup your test. This will be invisible for the reader of your documentation.
         */
        sayNextSection("Delete a profile");
        say("A user with admin rights can delete a profile.");
        createDefaultProfile(); // internal convinience method to handle test profiles

        /*
         * Show the profile of interest to the reader of your documentation.  
         */
        say("We want to delete the profile with the id \"" + profile.id + "\".");
        final ApiResponse response1 = makeGetRequest(buildUri("api/v1/profile/" + profile.id));
        assertEquals(HttpStatus.SC_OK, response1.httpStatus);

        /*
         * Do the request of your interest and test everything you think is important.
         */
        say("A request to the delete-profile endpoint with the correct rigths and "
            + "an existing profile id will end up in a response with the status code " + HttpStatus.SC_NO_CONTENT);
        final ApiResponse response2 = makeDeleteRequest(buildUri("api/v1/profile/" + profile.id));
        assertEquals(HttpStatus.SC_NO_CONTENT, response2.httpStatus);

        /*
         * Show how the response of the GET endpoint changed after the DELETE request was successful.
         */
        say("After the deleting of a profile was successful the request to get the profile with the id \"" 
            + profile.id + "\" will end up in a response with the status code " + HttpStatus.SC_NOT_FOUND);
        final ApiResponse response3 = makeGetRequest(buildUri("api/v1/profile/" + profile.id));
        assertEqualsAndSay(HttpStatus.SC_NOT_FOUND, response3.httpStatus, "The profile is not found since it has been deleted.");
    }

    ...
}
</pre><p>From the single test case above you&rsquo;ll get a result HTML that will look like this:</p><p><img src="example-delete-profile.png"  alt="Example HTML output of the delete-profile endpoint."/></p><p>The whole idea for this project is based on the <a href="http://docs.python.org/2/library/doctest.html">python doctests</a>. The intention was to transfer this idea into the java world with full compatibility to the junit library.</p><h1>Wanna see more?</h1><p>Have a look at the generated <a href="Doctests.hmtl">doctest</a> files.</p>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
              <div class="row span12">Copyright &copy;                    2012-2013
                        <a href="http://www.devbliss.com">devbliss GmbH</a>.
            All Rights Reserved.      
            
      </div>

        
        
                </div>
    </footer>
  </body>
</html>
