<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia at Mar 12, 2013 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title></title>
    <link rel="stylesheet" href="./css/apache-maven-fluido.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
        <style>body{padding-top: 20px;}</style>
    
    <script type="text/javascript" src="./js/apache-maven-fluido.min.js"></script>

    
    <meta name="Date-Revision-yyyymmdd" content="20130312" />
    <meta http-equiv="Content-Language" content="en" />
    
        </head>
  <body>
        
    
        <div class="container-fluid">
                <div id="banner">
        <div class="pull-left">                  <a href="http://devbliss.de" id="bannerLeft">
                <h2>Doctest internal documentation and Api documentation</h2>
                </a>
      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>
      
      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
        
                  <li id="publishDate">Last Published: 2013-03-12</li>
                  <li class="divider">|</li> <li id="projectVersion">Version: 0.6.4-SNAPSHOT</li>
                                      
        
              </ul>
      </div>

            <div id="leftColumn" class="sidebar">
        <div class="well">
                
        
                                   <h5>Overview</h5>
                  <ul>
                  <li class="none">
            <strong>README</strong>
          </li>
                  <li class="none">
                          <a href="CHANGES.html" title="CHANGES">CHANGES</a>
            </li>
                  <li class="none">
                          <a href="TODO.html" title="TODOS">TODOS</a>
            </li>
                  <li class="none">
                          <a href="project-info.html" title="INFO">INFO</a>
            </li>
          </ul>
                       <h5>Example</h5>
                  <ul>
                  <li class="none">
                          <a href="Doctests.html" title="Example of a doctest report">Example of a doctest report</a>
            </li>
          </ul>
                       <h5>Api</h5>
                  <ul>
                  <li class="none">
                          <a href="Apidocs.html" title="JavaDoc src">JavaDoc src</a>
            </li>
                  <li class="none">
                          <a href="Testapidocs.html" title="JavaDoc test">JavaDoc test</a>
            </li>
          </ul>
                      
        
      
          
          <div id="poweredBy">
                            <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                </div>
        </div>
      </div>
      
      <div id="bodyColumn" class="content">
        <div id="contentBox">
                              
          <h1>Test and document your REST Api in one single file</h1><p>Writing tests and documentation is one of the most important aspects of modern software development. At the same time this is the part with the fewest amount of time to work on during a project. This <em>doctest</em> library is the best way to merge the world of documenting and testing your REST Api. </p><h2>Why?</h2>
<ul>
  <li>It saves your time, because happens in one test file.</li><li>It saves your time, because changes in your code appear immediatly in your documentation.</li><li>You can review your documentation at the same time you review your code, because all happens in your repository and not in a dedicated software instance like a wiki.</li><li>Your documentation proves its correctness by itself, because the new documentation will only generated if all tests passed.</li><li>The output of your documentation can be what you like, just add a renderer that fits your needs. Currently it will render an HTML output.</li>
</ul><h2>Want to see an example?</h2><p>This examples shows the integration test of the delete-profile REST endpoint. The test method is seperated into 4 blocks introduction / setup, show the existing data by using the get-profile endpoint, call the delete-profile endpoint and finally show that the profile is gone by calling again the get-profile endpoint.</p>
<pre>
    /**
     * Write a test annotated method like you would do for a common junit test
     */
    @Test
    public void testDeleteProfile() {
        /*
         * Introduce the delete-profile endpoint to the reader of your documentation.
         * Create a default profile to setup your test. This will be invisible for the reader of your documentation.
         */
        sayNextSection("Delete a profile");
        say("A user with admin rights can delete a profile.");
        createDefaultProfile(); // internal convinience method to handle test profiles

        /*
         * Show the profile of interest to the reader of your documentation.  
         */
        say("We want to delete the profile with the id \"" + profile.id + "\".");
        final ApiResponse response1 = makeGetRequest(buildUri("api/v1/profile/" + profile.id));
        assertEquals(HttpStatus.SC_OK, response1.httpStatus);

        /*
         * Do the request of your interest and test everything you think is important.
         */
        say("A request to the delete-profile endpoint with the correct rigths and "
            + "an existing profile id will end up in a response with the status code " + HttpStatus.SC_NO_CONTENT);
        final ApiResponse response2 = makeDeleteRequest(buildUri("api/v1/profile/" + profile.id));
        assertEquals(HttpStatus.SC_NO_CONTENT, response2.httpStatus);

        /*
         * Show how the response of the GET endpoint changed after the DELETE request was successfull.
         */
        say("After the deleting of a profile was successfull the request to get the profile with the id \"" 
            + profile.id + "\" will end up in a response with the status code " + HttpStatus.SC_NOT_FOUND);
        final ApiResponse response3 = makeGetRequest(buildUri("api/v1/profile/" + profile.id));
        assertEqualsAndSay(HttpStatus.SC_NOT_FOUND, response3.httpStatus, "The profile is not found since it has been deleted.");
    }
</pre><p>From the single test case above you&rsquo;ll get a result HTML that will look like this:</p><p><img src="example-delete-profile.png"  alt="Example HTML output of the delete-profile endpoint."/></p><p>The whole idea for this project is based on the <a href="http://docs.python.org/2/library/doctest.html">python doctests</a>. The intention was to transfer this idea into the java world with full compatibility to the junit library.</p><h2>Getting started</h2><p>Go to the latest version at <a href="http://search.maven.org/#search|ga|1|g%3A%22com.devbliss.doctest%22">maven central</a> choose the build tool of you choice and add doctest as a dependency to your project or download the jar and include it manually.</p><p>Once the doctest library is included to your project you can start writing <em>doctests</em> by extending <em>com.devbliss.doctest.DocTest</em></p><h1>More information</h1><p><a href="http://devbliss.github.com/doctest/">Github pages</a></p>
                  </div>
      </div>
    </div>

    <footer class="footer">
            <div class="container-fluid">
              <div class="row span16">Copyright &copy;                    2012-2013
                        <a href="http://devbliss.com">devbliss GmbH</a>.
            All Rights Reserved.      
        
      </div>

                      </div>
    </footer>
  </body>
</html>
